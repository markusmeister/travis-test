--- 
title: "A Test of integrating bookdown with Travis CI"
author: "Markus Meister"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
output: bookdown::gitbook
documentclass: book
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
github-repo: markusmeister/travis-test
description: "This is a test of various bookdown functions implemented on Travis CI. The content is largely based on Yihui Xie's bookdown projects, see https://bookdown.org/yihui/bookdown/github.html and https://github.com/rstudio/bookdown-demo."
---

# Prerequisites

This is a _sample_ book written in **Markdown**. You can use anything that Pandoc's Markdown supports, e.g., a math equation $a^2 + b^2 = c^2$.

The **bookdown** package can be installed from CRAN or Github:

```{r eval=FALSE}
install.packages("bookdown")
# or the development version
# devtools::install_github("rstudio/bookdown")
```

Remember each Rmd file contains one and only one chapter, and a chapter is defined by the first-level heading `#`.

To compile this example to PDF, you need XeLaTeX. You are recommended to install TinyTeX (which includes XeLaTeX): <https://yihui.name/tinytex/>.

```{r eval=FALSE}
install.packages('tinytex')
tinytex::install_tinytex()
# to uninstall TinyTeX, run tinytex::uninstall_tinytex() 
```

```{r eval=FALSE}
# automatically create a bib database for R packages
knitr::write_bib(c(
  .packages(), 'bookdown', 'knitr', 'rmarkdown'
), 'packages.bib')
```

```{r}
if (packageVersion("knitr")>1.26) {
  install.packages("http://cran.r-project.org/src/contrib/Archive/knitr/knitr_1.26.tar.gz", repos=NULL, type="source")
  sessionInfo()
}
```

```{r}
# connect to python
library(reticulate)
matplotlib <- import("matplotlib")
matplotlib$use("Agg", force = TRUE) # backend that doesn't expect a display
```
